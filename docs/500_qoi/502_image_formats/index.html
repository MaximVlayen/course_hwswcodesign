<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.111.3">
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>502 Image formats :: HW/SW codesign</title>

    
    <link href="../../css/nucleus.css?1709889567" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1709889567" rel="stylesheet">
    <link href="../../css/hybrid.css?1709889567" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1709889567" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1709889567" rel="stylesheet">
    <link href="../../css/auto-complete.css?1709889567" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1709889567" rel="stylesheet">
    <link href="../../css/theme.css?1709889567" rel="stylesheet">
    <link href="../../css/tabs.css?1709889567" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1709889567" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1709889567" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1709889567"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script src=../../js/exercises.js></script> 
  </head>
  <body class="" data-url="../../500_qoi/502_image_formats/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1709889567"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1709889567"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/course_hwswcodesign\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1709889567"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/100_processor/" title="1 Processor" class="dd-item
        
        
        
        ">
      <a href="../../100_processor/">
          1 Processor
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/100_processor/101_processor/" title="101 - Processor" class="dd-item ">
        <a href="../../100_processor/101_processor/">
        101 - Processor
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_processor/102_riscv/" title="102 - RISC-V" class="dd-item ">
        <a href="../../100_processor/102_riscv/">
        102 - RISC-V
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_processor/103_picorv/" title="103 - PicoRV32" class="dd-item ">
        <a href="../../100_processor/103_picorv/">
        103 - PicoRV32
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_processor/104_crosscomp/" title="104 - Cross compiling" class="dd-item ">
        <a href="../../100_processor/104_crosscomp/">
        104 - Cross compiling
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_processor/105_simulation/" title="105 - Simulation" class="dd-item ">
        <a href="../../100_processor/105_simulation/">
        105 - Simulation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_processor/106_exercises/" title="106 - Exercises" class="dd-item ">
        <a href="../../100_processor/106_exercises/">
        106 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/200_coprocessor/" title="2  Coprocessor" class="dd-item
        
        
        
        ">
      <a href="../../200_coprocessor/">
          2  Coprocessor
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/200_coprocessor/201_coprocessor/" title="201 - Coprocessor" class="dd-item ">
        <a href="../../200_coprocessor/201_coprocessor/">
        201 - Coprocessor
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/200_coprocessor/202_pcpi/" title="202 - Pico CoProcessor Interface (PCPI)" class="dd-item ">
        <a href="../../200_coprocessor/202_pcpi/">
        202 - Pico CoProcessor Interface (PCPI)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/200_coprocessor/203_coproccesor_hd/" title="203 - Coprocessor example" class="dd-item ">
        <a href="../../200_coprocessor/203_coproccesor_hd/">
        203 - Coprocessor example
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/200_coprocessor/204_exercises/" title="204 - Exercises" class="dd-item ">
        <a href="../../200_coprocessor/204_exercises/">
        204 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/300_soc/" title="3  System on Chip" class="dd-item
        
        
        
        ">
      <a href="../../300_soc/">
          3  System on Chip
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/300_soc/301_busarchs/" title="301 - Bus architectures" class="dd-item ">
        <a href="../../300_soc/301_busarchs/">
        301 - Bus architectures
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_soc/302_counter/" title="302 - Counter peripheral" class="dd-item ">
        <a href="../../300_soc/302_counter/">
        302 - Counter peripheral
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_soc/303_soc/" title="303 - System on Chip (SoC)" class="dd-item ">
        <a href="../../300_soc/303_soc/">
        303 - System on Chip (SoC)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_soc/304_exercises/" title="304 - Exercises" class="dd-item ">
        <a href="../../300_soc/304_exercises/">
        304 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/400_interrupt/" title="4  Interrupt" class="dd-item
        
        
        
        ">
      <a href="../../400_interrupt/">
          4  Interrupt
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/400_interrupt/401_interrupt/" title="401 - Interrupt" class="dd-item ">
        <a href="../../400_interrupt/401_interrupt/">
        401 - Interrupt
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/400_interrupt/402_handling/" title="402 - Interrupt handling" class="dd-item ">
        <a href="../../400_interrupt/402_handling/">
        402 - Interrupt handling
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/400_interrupt/403_example/" title="403 - Example" class="dd-item ">
        <a href="../../400_interrupt/403_example/">
        403 - Example
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/400_interrupt/404_exercises/" title="404 - Exercises" class="dd-item ">
        <a href="../../400_interrupt/404_exercises/">
        404 - Exercises
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/500_qoi/" title="5 QOI" class="dd-item
        parent
        
        
        ">
      <a href="../../500_qoi/">
          5 QOI
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/500_qoi/501_digital_image/" title="501 Digital image" class="dd-item ">
        <a href="../../500_qoi/501_digital_image/">
        501 Digital image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/500_qoi/502_image_formats/" title="502 Image formats" class="dd-item active">
        <a href="../../500_qoi/502_image_formats/">
        502 Image formats
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/500_qoi/503_example/" title="503 Example" class="dd-item ">
        <a href="../../500_qoi/503_example/">
        503 Example
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/500_qoi/504_project/" title="504 Project" class="dd-item ">
        <a href="../../500_qoi/504_project/">
        504 Project
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/900_appendices/" title="9 Appendices" class="dd-item
        
        
        
        ">
      <a href="../../900_appendices/">
          9 Appendices
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/900_appendices/901_roger/" title="901 - Roger &amp; Chip" class="dd-item ">
        <a href="../../900_appendices/901_roger/">
        901 - Roger &amp; Chip
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://studiegidswww.uhasselt.be/opleidingsonderdeel.aspx?a=2023&amp;i=3468&amp;n=4&amp;t=04"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://p.cygnus.cc.kuleuven.be/webapps/blackboard/execute/announcement?method=search&amp;context=course&amp;course_id=_1176295_1&amp;handle=cp_announcements&amp;mode=cpview"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>HWSW codesign</a> > <a href='../../500_qoi/'>5 QOI</a> > 502 Image formats
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#qoi">QOI</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              502 Image formats
            </h1>
          

        


<p>In general, to store a <em>file</em> on a computer, some form for <strong>file format</strong> is required. Examples of fileformats are: .pdf, .docx, and .html. A file format defines an encoding protocol on how to store the data.</p>
<p>As just seen, storing images in full will require a lot of storage. Of course, there are file formats for images as well. The most well known image file formats (or image formats) are .jpeg, .png, and .gif. If no encoding is used (or not much), this type of file format is referred to as <strong>a raw image</strong>.</p>
<p>Image encoding formats &hellip; this is where it gets insane. Some formats are <strong>small</strong>, others are <strong>high-quality</strong>. Some formats drop certain data (<strong>lossy</strong>), others keep everything (<strong>lossless</strong>). Some formats are used by camera&rsquo;s that generate images, others are generated by artists. Some formats are intended for <strong>the web</strong>, others are specially for <strong>printing</strong> &hellip; you get the point ðŸ˜‰</p>
<p><img src="../../img/500/Image_formats_by_scope.png" alt="Image formats"></p>
<center>Image by Jon Sneyers - Own work, CC BY-SA 4.0, https://commons.wikimedia.org/w/index.php?curid=126783849</center>
<h2 id="qoi">QOI</h2>
<p>For the project, the QOI (Quite OK Image Format) will be used. More info can be found <a href="https://qoiformat.org/" target="_blank">here</a>. QOI&rsquo;s specification can be found <a href="https://qoiformat.org/qoi-specification.pdf" target="_blank">here</a> and was released on January 2022, by <strong>Dominic Szablewski</strong>, who claims:</p>
<blockquote>
<p>&ldquo;I have no idea what i&rsquo;m doing. I&rsquo;m not a compression guy.&rdquo;</p>
</blockquote>
<div class="multiHcolumn">
<div class="column">
  <p><img src="../../img/500/qoi.png" alt="Image formats"></p>
</div>    
<div class="column">
  <p><strong>QOI</strong> starts by noting down a <strong>header</strong> which consists of a handfull of parameters. Next, there is an indetermined number of <strong>chunks</strong>. And finally, there is fixed 8-byt <strong>end marker</strong>.</p>
<p>The chunks in between the header and end marker can be of these 5 types:</p>
<ol>
<li><strong>RUN chunk</strong>: a run of repeating pixels</li>
<li><strong>INDEX chunk</strong>: an index to a recently seen pixel</li>
<li><strong>DIFF chunk</strong>: difference to the previous pixel</li>
<li><strong>LUMA chunk</strong>: difference to the previous pixel&rsquo;s green value</li>
<li><strong>RGB chunk</strong>: full pixel value</li>
<li><strong>RGBA chunk</strong>: full pixel value with alpha</li>
</ol>
<p>The order in which the chunks are enumerated, is also the order of precedence.</p>
<p>For the indexed chunk, a running array is kept of 64 pixels. If the current pixel is present in this array, the position in the array is stored. QOI uses a quick way for looking up the pixel by means a hash table. A custom, very simple hash function is designed for this purpose:</p>
<blockquote>
<p>H(r, g, b, a) = (3xr + 5xg +7xb + 11xa) mod 64</p>
</blockquote>
<p>If the array has the same pixel value on the position as pointed to by the hash, the INDEX chunk is used.</p>
</div>    
</div>    

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../500_qoi/501_digital_image/" title="501 Digital image"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../500_qoi/503_example/" title="503 Example" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1709889567"></script>
    <script src="../../js/perfect-scrollbar.min.js?1709889567"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1709889567"></script>
    <script src="../../js/jquery.sticky.js?1709889567"></script>
    <script src="../../js/featherlight.min.js?1709889567"></script>
    <script src="../../js/highlight.pack.js?1709889567"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1709889567"></script>
    <script src="../../js/learn.js?1709889567"></script>
    <script src="../../js/hugo-learn.js?1709889567"></script>
    
        
            <script src="../../mermaid/mermaid.js?1709889567"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

